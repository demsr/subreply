{% extends "base.html" %}

{% block main %}
    <div class="title">
        <a href="/register" class="on">Register</a> a permanent account
    </div>

    <div class="register">
        <form enctype="multipart/form-data" method="post" autocomplete="off">
            <div class="line">
                <div class="left">
                    <label for="id_username">Username<i>*</i></label>
                    <input type="text" name="username" id="id_username"
                        maxlength="15"
                        value="{{ form.getvalue('username', '') }}">
                </div>
                <div class="right">
                    <label for="id_email">Email<i>*</i> <i>invitation only</i></label>
                    <input type="email" name="email" id="id_email"
                        maxlength="120"
                        value="{{ form.getvalue('email', '') }}">
                </div>
                {% if 'username' in errors %}
                    <div class="error">{{ errors['username'] }}</div>
                {% endif %}
                {% if 'email' in errors %}
                    <div class="error">{{ errors['email'] }}</div>
                {% endif %}
            </div>
            <div class="line">
                <div class="left">
                    <label for="id_first_name">First name<i>*</i></label>
                    <input type="text" name="first_name" id="id_first_name"
                        maxlength="15"
                        value="{{ form.getvalue('first_name', '') }}">
                </div>
                <div class="right">
                    <label for="id_last_name">Last name</label>
                    <input type="text" name="last_name" id="id_last_name"
                        maxlength="15"
                        value="{{ form.getvalue('last_name', '') }}">
                </div>
                {% if 'first_name' in errors %}
                    <div class="error">{{ errors['first_name'] }}</div>
                {% endif %}
                {% if 'last_name' in errors %}
                    <div class="error">{{ errors['last_name'] }}</div>
                {% endif %}
            </div>
            <div class="line">
                <div class="left">
                    <label for="id_password1">Password<i>*</i></label>
                    <input type="password" name="password1" id="id_password1"
                        maxlength="120"
                        value="{{ form.getvalue('password1', '') }}">
                </div>
                <div class="right">
                    <label for="id_password2">Password confirmation<i>*</i></label>
                    <input type="password" name="password2" id="id_password2"
                        maxlength="120"
                        value="{{ form.getvalue('password2', '') }}">
                </div>
                {% if 'password' in errors %}
                    <div class="error">{{ errors['password'] }}</div>
                {% endif %}
            </div>
            <div class="line">
                <label for="id_bio">Bio <i>your description, contact details or current status</i></label>
                <input type="text" name="bio" id="id_bio" maxlength="120"
                    value="{{ form.getvalue('bio', '') }}">
                {% if 'bio' in errors %}
                    <div class="error">{{ errors['bio'] }}</div>
                {% endif %}
            </div>
            <div class="line">
                <label for="id_website">Website <i>your blog, resume or other social profile</i></label>
                <input type="url" name="website" id="id_website"
                    maxlength="120" placeholder="https://"
                    value="{{ form.getvalue('website', '') }}">
                {% if 'website' in errors %}
                    <div class="error">{{ errors['website'] }}</div>
                {% endif %}
            </div>
            <div class="line">
                <div class="left">
                    <div class="left">
                        <label for="id_emoji">Emoji status</label>
                        <input type="text" name="emoji" id="id_emoji"
                            maxlength="15"
                            value="{{ form.getvalue('emoji', '') }}">
                    </div>
                    <div class="right">
                        <label for="id_birthyear">Birthday year</label>
                        <input type="text" name="birthyear" id="id_birthyear"
                            maxlength="4"
                            value="{{ form.getvalue('birthyear', '') }}">
                    </div>
                </div>
                <div class="right">
                    <label for="id_country">Country</label>
                    <select id="id_country" name="country">
                        {% set selected = form.getvalue('country', '') %}
                        {% for code, name in countries.items() %}
                            <option value="{{ code }}" {% if selected == code %}selected{% endif %}>{{ name }}</option>
                        {% endfor %}
                    </select>
                </div>
                {% if 'emoji' in errors %}
                    <div class="error">{{ errors['emoji'] }}</div>
                {% endif %}
                {% if 'birthyear' in errors %}
                    <div class="error">{{ errors['birthyear'] }}</div>
                {% endif %}
                {% if 'country' in errors %}
                    <div class="error">{{ errors['country'] }}</div>
                {% endif %}
            </div>
            <div class="line">
                <input type="submit" value="Register">
            </div>
        </form>
    </div>
{% endblock %}
